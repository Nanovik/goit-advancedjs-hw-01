{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', throttle(onFormInput), 500);\nform.addEventListener('submit', onFormSubmit);\n\nconst savedMessage = localStorage.getItem('feedback-form-state');\n\nif (savedMessage) {\n    form.elements.email.value = JSON.parse(savedMessage).email ?? '';\n    form.elements.message.value = JSON.parse(savedMessage).message ?? '';\n}\n  \nfunction onFormInput() {\n  const email = form.elements.email.value;\n  const message = form.elements.message.value;\n\n  const formValues = {\n    email,\n    message,\n  };\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formValues));\n}\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    if (form.elements.email.value === '' || form.elements.message.value === '') {\n        alert('All fields must be filled!');\n      \n    } else {\n    const formData = localStorage.getItem('feedback-form-state');\n    console.log(JSON.parse(formData));\n    form.reset();\n    } \n\n  localStorage.removeItem('feedback-form-state');\n}"],"names":["form","throttle","onFormInput","onFormSubmit","savedMessage","email","message","formValues","event","formData"],"mappings":"mIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,EAASC,CAAW,EAAG,GAAG,EACzDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,MAAMC,EAAe,aAAa,QAAQ,qBAAqB,EAE3DA,IACAJ,EAAK,SAAS,MAAM,MAAQ,KAAK,MAAMI,CAAY,EAAE,OAAS,GAC9DJ,EAAK,SAAS,QAAQ,MAAQ,KAAK,MAAMI,CAAY,EAAE,SAAW,IAGtE,SAASF,GAAc,CACrB,MAAMG,EAAQL,EAAK,SAAS,MAAM,MAC5BM,EAAUN,EAAK,SAAS,QAAQ,MAEhCO,EAAa,CACjB,MAAAF,EACA,QAAAC,CACJ,EAEE,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAU,CAAC,CACxE,CAEA,SAASJ,EAAaK,EAAO,CAGzB,GAFAA,EAAM,eAAc,EAEhBR,EAAK,SAAS,MAAM,QAAU,IAAMA,EAAK,SAAS,QAAQ,QAAU,GACpE,MAAM,4BAA4B,MAE/B,CACP,MAAMS,EAAW,aAAa,QAAQ,qBAAqB,EAC3D,QAAQ,IAAI,KAAK,MAAMA,CAAQ,CAAC,EAChCT,EAAK,MAAK,CACT,CAEH,aAAa,WAAW,qBAAqB,CAC/C"}